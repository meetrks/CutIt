document.getElementById("long_url").addEventListener("keyup",function(e){e.preventDefault(),13===e.keyCode&&document.getElementById("submit").click()}),document.getElementById("submit").onclick=function(){document.getElementById("msg").style.display="none";var e=document.getElementById("long_url").value;if(e){var t=document.getElementById("result"),n=document.getElementById("error"),l=new XMLHttpRequest;l.onreadystatechange=function(){var e={detail:"Something went wrong"};if(this.responseText)e=JSON.parse(this.responseText);4==this.readyState&&200==this.status?(n.style.display="none",t.style.display="block",t.value=e.shortUrl):(t.style.display="none",n.style.display="block",n.innerHTML=e.detail)},l.open("GET","/encode_url?url="+encodeURIComponent(e),!1),l.send()}},document.getElementById("result").onclick=function(){var e=document.getElementById("result");e.select(),document.execCommand("copy"),document.getElementById("msg").style.display="block",document.getElementById("msg").innerHTML="Text copied on clipboard: "+e.value};